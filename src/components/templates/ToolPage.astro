---
import BaseLayout from '../layout/BaseLayout.astro';
import FAQ from '../ui/FAQ.astro';
import RelatedPages from '../ui/RelatedPages.astro';
import { getRelatedGuides } from '@lib/internal-linking';
import type { Silo } from '@lib/internal-linking';

interface Props {
  title: string;
  description: string;
  toolComponent: any; // React component
  silo: Silo;
  keywords?: string[];
  faqs?: Array<{ question: string; answer: string }>;
  seoTitle?: string;
  seoDescription?: string;
}

const {
  title,
  description,
  toolComponent: ToolComponent,
  silo,
  keywords = [],
  faqs = [],
  seoTitle,
  seoDescription,
} = Astro.props;

const relatedGuides = getRelatedGuides(keywords, silo, 3);
---

<BaseLayout
  seo={{
    title: seoTitle || title,
    description: seoDescription || description,
    keywords,
    canonical: `/tools/${title.toLowerCase().replace(/\s+/g, '-')}`,
  }}
  breadcrumbs={[
    { name: 'Tools', url: '/tools' },
    { name: title, url: `/tools/${title.toLowerCase().replace(/\s+/g, '-')}` },
  ]}
>
  <div class="container-custom section section-white">
    <div class="max-w-4xl mx-auto">
      <h1 class="mb-6">{title}</h1>
      <p class="text-lg text-neutral-600 mb-8">{description}</p>
      
      <div class="card mb-8">
        <ToolComponent client:load />
      </div>
      
      {relatedGuides.length > 0 && (
        <div class="mt-12">
          <RelatedPages pages={relatedGuides} title="Gerelateerde Gidsen" />
        </div>
      )}
      
      {faqs.length > 0 && (
        <div class="mt-12">
          <FAQ faqs={faqs} />
        </div>
      )}
    </div>
  </div>
</BaseLayout>
